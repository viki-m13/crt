<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate, max-age=0" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <title>CRT Recovery Predictor</title>
  <link rel="icon" href="favicon.svg" type="image/svg+xml">
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="masthead">
    <div class="wrap masthead-wrap">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div class="brand-text">
          <h1>CRT Recovery Predictor</h1>
          <div class="subhead">Evidence-based stock selection: <strong>Find undervalued quality stocks with early recovery signals that historically outperform SPY.</strong></div>
        </div>
        <div class="meta">
          <div class="meta-row"><span class="meta-label">Updated</span><span id="asOf" class="meta-value"></span></div>
          <div class="meta-row"><span class="meta-label">Universe</span><span class="meta-value">S&P 500</span></div>
          <div class="meta-row"><span class="meta-label">Benchmark</span><span class="meta-value">SPY (S&P 500)</span></div>
        </div>
      </div>

      <div class="rule"></div>

      <!-- Signal Summary -->
      <div class="signal-summary" id="signalSummary">
        <div class="signal-box signal-strong">
          <div class="signal-count" id="countStrong">-</div>
          <div class="signal-label">STRONG BUY</div>
        </div>
        <div class="signal-box signal-buy">
          <div class="signal-count" id="countBuy">-</div>
          <div class="signal-label">BUY</div>
        </div>
        <div class="signal-box signal-watch">
          <div class="signal-count" id="countWatch">-</div>
          <div class="signal-label">WATCH</div>
        </div>
      </div>

      <div class="rule"></div>

      <section class="explain">
        <details class="details whathow">
          <summary class="details-summary">
            <span class="section-title">METHODOLOGY & HOW IT WORKS</span>
            <span class="plus" aria-hidden="true">+</span>
          </summary>
          <div class="details-body">
            <div class="explain-grid">
              <div>
                <div class="section-title">The Core Question</div>
                <p>
                  <strong>"What stocks should I buy TODAY that are undervalued and most likely to outperform SPY in 1, 3, and 5 years?"</strong>
                </p>
                <p>
                  This tool finds quality stocks that are temporarily beaten down (10-50% below their 52-week high)
                  but showing early signs of recovery. We use historical pattern matching to estimate
                  the probability of positive returns and outperforming the market.
                </p>

                <div class="section-title section-title--spaced">What Makes a Stock Score High?</div>
                <ul>
                  <li><strong>Undervalued</strong> — Trading 10-50% below 52-week high (not overpriced, not distressed)</li>
                  <li><strong>Quality Track Record</strong> — Positive 5-year returns, consistent monthly gains</li>
                  <li><strong>Early Recovery Signals</strong> — Price above 20-day moving average, positive recent momentum</li>
                  <li><strong>Statistical Significance</strong> — Minimum 5 years of history, 15+ similar past situations</li>
                </ul>
              </div>

              <div>
                <div class="section-title">Selection Criteria</div>
                <div class="backtest-results">
                  <div class="backtest-row">
                    <span class="backtest-label">Discount Range</span>
                    <span class="backtest-value highlight">10% - 50%</span>
                  </div>
                  <div class="backtest-row">
                    <span class="backtest-label">Min History Required</span>
                    <span class="backtest-value">5 Years</span>
                  </div>
                  <div class="backtest-row">
                    <span class="backtest-label">Min Sample Size</span>
                    <span class="backtest-value">15 Similar Cases</span>
                  </div>
                  <div class="backtest-row">
                    <span class="backtest-label">Quality Filter</span>
                    <span class="backtest-value">Positive 5Y Return</span>
                  </div>
                </div>
                <p class="footnote">
                  Stocks near all-time highs are filtered out (already expensive).
                  Stocks down more than 50% are filtered out (potentially distressed).
                </p>
              </div>

              <div>
                <div class="section-title">How to Read the Numbers</div>
                <ul>
                  <li><strong>Score (0-100)</strong> — Opportunity ranking. Higher = better setup.</li>
                  <li><strong>Discount</strong> — How far below 52-week high (sweet spot: 20-40%).</li>
                  <li><strong>Beat SPY</strong> — Historical probability of outperforming S&P 500.</li>
                  <li><strong>Median Return</strong> — Typical return from similar historical situations.</li>
                  <li><strong>Downside / Upside</strong> — 10th and 90th percentile outcomes (risk/reward).</li>
                </ul>

                <div class="section-title section-title--spaced">Signals</div>
                <ul>
                  <li><strong>STRONG BUY</strong> — Score ≥80, Beat SPY ≥60%, with early recovery signal</li>
                  <li><strong>BUY</strong> — Score ≥65, Beat SPY ≥55%</li>
                  <li><strong>WATCH</strong> — Score ≥50, shows promise but needs confirmation</li>
                </ul>
              </div>
            </div>

            <div class="rule"></div>

            <div class="disclaimer">
              <strong>Important:</strong> This is not investment advice. Past performance does not guarantee future results.
              The probabilities shown are based on historical patterns which may not repeat. Always do your own research
              and consider consulting a financial advisor before making investment decisions.
            </div>
          </div>
        </details>
      </section>

      <div class="rule"></div>

      <div class="controls">
        <div class="search">
          <label for="q" class="visually-hidden">Search ticker</label>
          <input id="q" class="search-input" type="text" placeholder="Search ticker (e.g., AAPL)" autocomplete="off" />
          <button id="go" class="btn">Find</button>
        </div>
        <div class="filters">
          <label class="filter-label">
            <input type="checkbox" id="filterRecovery" /> Early Recovery Only
          </label>
        </div>
        <div class="sort">
          <span class="sort-label">Sort by</span>
          <button class="btn-lite active" data-sort="score">Score</button>
          <button class="btn-lite" data-sort="discount">Discount</button>
          <button class="btn-lite" data-sort="beatspy">Beat SPY</button>
          <button class="btn-lite" data-sort="median">Median 1Y</button>
        </div>
      </div>

      <div class="rule"></div>
    </div>
  </header>

  <main class="wrap">
    <section>
      <div class="section-title">Top Opportunities Today</div>
      <div id="top10" class="cards"></div>
    </section>

    <section class="spacer">
      <div class="section-title">All Stocks</div>
      <div class="table-wrap">
        <table class="tbl" id="tbl">
          <thead>
            <tr>
              <th>Ticker</th>
              <th>Signal</th>
              <th class="num">Score</th>
              <th class="num">Discount</th>
              <th class="num">Beat SPY</th>
              <th class="num">Med 1Y</th>
              <th class="num">Med 3Y</th>
              <th class="num">Samples</th>
              <th>Recovery</th>
              <th>Why Buy Now</th>
            </tr>
          </thead>
          <tbody id="rows"></tbody>
        </table>
      </div>
      <div class="footnote">
        Probabilities based on historical patterns from similar market conditions. Not investment advice.
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="wrap">
      <div class="footer-inner">
        CRT Recovery Predictor v3.0 • Updated daily after market close (5pm ET) • Finding undervalued stocks with recovery potential
      </div>
    </div>
  </footer>

  <script src="app.js"></script>
</body>
</html>
