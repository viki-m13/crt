<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Rebound Ledger</title>
  <link rel="icon" href="favicon.svg" type="image/svg+xml">
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="masthead">
    <div class="brand">
      <div class="logo" aria-hidden="true"></div>
      <div class="brand-text">
        <div class="kicker">DAILY MARKET NOTE</div>
        <h1>Rebound Ledger</h1>
        <div class="subhead">A once‑daily scan for oversold stocks with unusually strong historical rebound odds — measured against each stock’s own history, and cross‑checked against the broader market.</div>
      </div>
      <div class="meta">
        <div class="meta-row"><span class="meta-label">Updated</span> <span id="asOf">—</span></div>
        <div class="meta-row"><span class="meta-label">Universe</span> Russell 1000 (IWB holdings) + benchmarks</div>
      </div>
    </div>
    <div class="rule"></div>

    <section class="explain">
  <div class="explain-grid">
    <div>
      <div class="section-title">What this does</div>
      <p>
        Each day, it scans the <span class="mono">Russell 1000</span> and flags stocks that look unusually “washed‑out” for <em>that specific stock</em>.
        Then it answers one practical question: <strong>when this stock looked like this before, what tended to happen next?</strong>
      </p>
      <p class="muted">
        You’re not comparing AAPL to other stocks. You’re comparing AAPL today to AAPL’s own past.
      </p>
    </div>

    <div>
      <div class="section-title">Why this works</div>
      <ul>
        <li><strong>Stock‑specific, not cross‑sectional.</strong> “Cheap” is defined relative to the stock’s own history, not a market-wide rule.</li>
        <li><strong>Market‑adjusted signal.</strong> It estimates how much of the move is explained by the broad market (via rolling beta to <span class="mono">SPY</span>) and focuses on the <em>residual</em>—what’s stock‑specific.</li>
        <li><strong>Pattern matching, not a single trigger.</strong> It matches today to past days with a similar mix of drawdown, range position, volatility, and volume—then reads the historical outcomes.</li>
        <li><strong>Built‑in “did this add value?” check.</strong> The Evidence block compares outcomes after washed‑out days vs <em>any random day</em> for the same stock.</li>
      </ul>
      <p class="muted">
        This is not simple mean‑reversion (“down a lot = buy”). The model requires the <em>type</em> of selloff to match prior setups and explicitly separates market moves from stock moves.
      </p>
    </div>

    <div>
      <div class="section-title">What this is not</div>
      <ul>
        <li><strong>Not investment advice.</strong> It does not tell you what you “should” own or how to build a portfolio.</li>
        <li><strong>Not a forecast.</strong> It reports historical statistics from similar past situations; it cannot guarantee future results.</li>
        <li><strong>Not a trading strategy.</strong> It does not give position sizing, entries/exits, risk limits, or timing rules.</li>
        <li><strong>Losses can be severe.</strong> Individual stocks can drop further—even to zero. Use your own judgment and risk controls.</li>
      </ul>
    </div>
  </div>

  <div class="rule light"></div>

  <div class="explain-grid two">
    <div>
      <div class="section-title">How it works</div>
      <ol>
        <li><strong>Collect history.</strong> Download each stock’s daily price/volume history.</li>
        <li><strong>Measure “washout.”</strong> Compute drawdown from the 1‑year high, position inside the 1‑year range, short‑term trend, and stress (volatility + volume).</li>
        <li><strong>Remove the market.</strong> Estimate rolling beta to <span class="mono">SPY</span>, subtract the market component, and recompute “washout” on the stock‑specific residual path.</li>
        <li><strong>Find close historical matches.</strong> For <em>that same stock</em>, find the <span class="mono">K</span> most similar past days (balanced across market regimes).</li>
        <li><strong>Summarize outcomes.</strong> Compute what happened next over 1Y / 3Y / 5Y: chance of gain, typical return, and downside.</li>
        <li><strong>Score + rank.</strong> Combine the horizons into a single score and rank the daily list from strongest to weakest historical edge.</li>
      </ol>
    </div>

    <div>
      <div class="section-title">How to read the numbers</div>
      <ul>
        <li><span class="mono">Chance of gain</span>: percent of similar past days where the forward return was positive.</li>
        <li><span class="mono">Typical</span>: the median forward return (half the outcomes were higher, half lower).</li>
        <li><span class="mono">Downside (1 in 10)</span>: the 10th percentile (a bad‑but‑plausible outcome).</li>
        <li><span class="mono">N</span>: how many similar past days were used for that horizon.</li>
        <li><span class="mono">Market‑adjusted</span>: statistics computed after subtracting the stock’s typical move explained by the market.</li>
      </ul>
    </div>
  </div>

  <details class="nerds">
    <summary>For stats nerds</summary>
    <div class="nerds-body">
      <p>
        The scan is a stock‑specific analog model. For each stock and day, we build a feature vector <span class="mono">x(t)</span> and
        find nearest neighbors in that stock’s own history (only days strictly before today).
      </p>
      <ul>
        <li><strong>Market adjustment.</strong> Using log returns, estimate rolling <span class="mono">β</span>:
          <span class="mono">β(t)=Cov(r_stock,r_spy)/Var(r_spy)</span>, then residual <span class="mono">ε(t)=r_stock−β(t)·r_spy</span>.
          A cumulative residual price path is used to compute stock‑specific drawdown and range position.</li>
        <li><strong>Robust scaling.</strong> Features are standardized with rolling median/MAD (robust z‑scores) to reduce outlier distortion.</li>
        <li><strong>Similarity search.</strong> Distance is computed in feature space (Euclidean). Neighbors are selected with a simple market‑regime balancing step to avoid overfitting to one regime.</li>
        <li><strong>Outcome summaries.</strong> Forward returns are computed at 1Y/3Y/5Y; we report win rate, median, and 10th percentile.</li>
        <li><strong>Score, confidence, stability.</strong> The score is a weighted blend of horizon “quality” (win/median/downside).
          Confidence increases with sample size, regime variety, and stability under small perturbations (varying <span class="mono">K</span> and shifting the evaluation day backward).</li>
      </ul>
      <p class="muted">
        Nothing here prevents false positives. The purpose is to surface statistically interesting “washed‑out” setups for your own review.
      </p>
    </div>
  </details>
</section>

    <div class="rule"></div>

    <div class="controls">
      <div class="search">
        <label for="q" class="visually-hidden">Search ticker</label>
        <input id="q" class="search-input" type="text" placeholder="Search ticker (e.g., AAPL)" autocomplete="off" />
        <button id="go" class="btn">Find</button>
      </div>
      <div class="sort">
        <span class="sort-label">Sort</span>
        <button class="btn-lite" data-sort="default">Model rank</button>
        <button class="btn-lite" data-sort="score">Score</button>
        <button class="btn-lite" data-sort="confidence">Confidence</button>
        <button class="btn-lite" data-sort="stability">Stability</button>
      </div>
    </div>

    <div class="rule"></div>
  </header>

  <main class="wrap">
    <section>
      <div class="section-title">Top 10 today</div>
      <div id="top10" class="cards"></div>
    </section>

    <section class="spacer">
      <div class="section-title">All tickers</div>
      <div class="table-wrap">
        <table class="tbl" id="tbl">
          <thead>
            <tr>
              <th>Ticker</th>
              <th>Verdict</th>
              <th class="num">Score</th>
              <th class="num">Conf</th>
              <th class="num">Stab</th>
              <th>Risk</th>
              <th class="num">1Y typ</th>
              <th class="num">3Y typ</th>
              <th class="num">5Y typ</th>
            </tr>
          </thead>
          <tbody id="rows"></tbody>
        </table>
      </div>
      <div class="footnote">
        The scan is informational only. It summarizes how this stock behaved after similar past setups; it does not predict the future.
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="rule"></div>
    <div class="footer-inner">
      <span>Rebound Ledger • updated once daily after 5pm New York time</span>
      <span class="mono">v1</span>
    </div>
  </footer>

  <script src="app.js"></script>
</body>
</html>
