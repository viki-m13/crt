<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate, max-age=0" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <title>Rebound Ledger</title>
  <link rel="icon" href="favicon.svg" type="image/svg+xml">
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="masthead">
    <div class="wrap masthead-wrap">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div class="brand-text">
          <h1>Rebound Ledger</h1>
          <div class="subhead">Stocks that look unusually oversold <em>for their own history</em>, after filtering out broad market moves. For each, we show the probability of being higher in 1, 3, and 5 years based on every similar past setup.</div>
        </div>
        <div class="meta">
          <div class="meta-row"><span class="meta-label">Updated</span><span id="asOf" class="meta-value"></span></div>
          <div class="meta-row"><span class="meta-label">Universe</span><span class="meta-value">Russell 1000 &amp; Major Crypto</span></div>
        </div>
      </div>

      <div class="rule"></div>

      <section class="explain">
        <details class="details whathow">
          <summary class="details-summary">
            <span class="section-title">HOW TO READ THIS</span>
            <span class="plus" aria-hidden="true">+</span>
          </summary>
          <div class="details-body">
            <div class="explain-grid">
              <div>
                <div class="section-title">What the numbers mean</div>
                <ul>
                  <li><strong>1Y / 3Y / 5Y Prob</strong> — When this stock looked like this before, what % of the time was it higher after 1, 3, or 5 years?</li>
                  <li><strong>Quality (0–100)</strong> — Is this a healthy stock in a pullback, or a broken one? Based on long-term trend strength, historical recovery track record, and whether selling is slowing down.</li>
                  <li><strong>Conviction</strong> — Quality × Probability. High conviction = high quality stock with strong historical rebound odds.</li>
                  <li><strong>Typical 1Y</strong> — Median return after 1 year from similar past setups.</li>
                  <li><strong>Downside</strong> — 10th percentile 1Y return (a bad-but-plausible case).</li>
                  <li><strong>Analogs</strong> — How many similar historical days the stats are based on. More = more reliable.</li>
                </ul>
              </div>
              <div>
                <div class="section-title">How it works</div>
                <ol>
                  <li><strong>Measure "washout"</strong> — How beaten-down is this stock vs its own history? Drawdown, range position, volume stress, all market-adjusted.</li>
                  <li><strong>Remove the market</strong> — Subtract out SPY's move (beta-adjusted) so we only see stock-specific weakness.</li>
                  <li><strong>Match historical analogs</strong> — Find the most similar past days for this exact stock, balanced across market regimes.</li>
                  <li><strong>Quality filter</strong> — Score each stock on trend health (time above 200 SMA), drawdown recovery history, and selling momentum.</li>
                  <li><strong>Show probabilities</strong> — What % of analogs led to gains at 1/3/5 years, plus typical and downside outcomes.</li>
                </ol>
              </div>
              <div>
                <div class="section-title">What this is not</div>
                <ul>
                  <li><strong>Not financial advice.</strong> This is a historical evidence tool — it shows what happened before, not what will happen.</li>
                  <li><strong>Not a trading strategy.</strong> No entries, exits, sizing, or timing rules.</li>
                  <li><strong>Not a guarantee.</strong> Stocks can keep falling — including to zero.</li>
                </ul>
              </div>
            </div>
          </div>
        </details>
      </section>

      <div class="rule"></div>

      <div class="controls">
        <div class="search">
          <label for="q" class="visually-hidden">Search ticker</label>
          <input id="q" class="search-input" type="text" placeholder="Search ticker (e.g., AAPL)" autocomplete="off" />
          <button id="go" class="btn">Find</button>
        </div>
        <div class="sort">
          <span class="sort-label">Sort</span>
          <button class="btn-lite active" data-sort="prob_1y">1Y Prob</button>
          <button class="btn-lite" data-sort="prob_3y">3Y Prob</button>
          <button class="btn-lite" data-sort="prob_5y">5Y Prob</button>
          <button class="btn-lite" data-sort="quality">Quality</button>
          <button class="btn-lite" data-sort="conviction">Conviction</button>
        </div>
      </div>

      <div class="rule"></div>
    </div>
  </header>

  <main class="wrap">
    <section>
      <div class="section-title">Top Convictions</div>
      <div class="section-subtitle" id="convictionNote">Stocks with quality &ge; 60 and 1Y probability &ge; 65%</div>
      <div id="top10" class="cards"></div>
    </section>

    <section class="spacer">
      <div class="section-title">All Tickers</div>
      <div class="table-wrap">
        <table class="tbl" id="tbl">
          <thead>
            <tr>
              <th class="sortable" data-col="ticker">Ticker</th>
              <th class="num sortable" data-col="quality">Quality</th>
              <th class="num sortable" data-col="prob_1y">1Y Prob</th>
              <th class="num sortable" data-col="prob_3y">3Y Prob</th>
              <th class="num sortable" data-col="prob_5y">5Y Prob</th>
              <th class="num sortable" data-col="median_1y">Typical 1Y</th>
              <th class="num sortable" data-col="downside_1y">Downside</th>
              <th class="num sortable" data-col="n_analogs">Analogs</th>
              <th class="num sortable" data-col="conviction">Conviction</th>
              <th class="num sortable" data-col="washout_today">Washout</th>
            </tr>
          </thead>
          <tbody id="rows"></tbody>
        </table>
      </div>
      <div class="footnote">
        The scan is informational only. It summarizes how this stock behaved after similar past setups; it does not predict the future.
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="wrap">
      <div class="footer-inner">
        Rebound Ledger &bull; updated once daily after 5pm New York time
      </div>
    </div>
  </footer>

  <script src="app.js"></script>
</body>
</html>
